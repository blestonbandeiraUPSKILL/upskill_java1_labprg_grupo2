<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>RepositorioOrganizacaoInMemory.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">T4J-Grupo2</a> &gt; <a href="index.source.html" class="el_package">com.grupo2.t4j.persistence.inmemory</a> &gt; <span class="el_source">RepositorioOrganizacaoInMemory.java</span></div><h1>RepositorioOrganizacaoInMemory.java</h1><pre class="source lang-java linenums">/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

package com.grupo2.t4j.persistence.inmemory;

/**
 *
 * @author CAD
 */

import com.grupo2.t4j.exception.OrganizacaoDuplicadaException;
import com.grupo2.t4j.model.Colaborador;
import com.grupo2.t4j.model.Email;
import com.grupo2.t4j.model.Organizacao;
import com.grupo2.t4j.model.Website;
import com.grupo2.t4j.persistence.RepositorioOrganizacao;

import java.io.Serializable;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

public class RepositorioOrganizacaoInMemory implements Serializable, RepositorioOrganizacao {

    /**
     * Atributos da classe Singleton RepositorioOrganizacao
     */
    private static RepositorioOrganizacaoInMemory instance;
    private List&lt;Organizacao&gt; listaOrganizacoes;
    Colaborador colabGestor;

    /**
     * Construtor da classe Singleton RepositorioOrganizacao
     */
<span class="nc" id="L38">    RepositorioOrganizacaoInMemory() {</span>
<span class="nc" id="L39">        listaOrganizacoes = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L40">    }</span>

    /**
     * Devolve ou cria uma instância estática de RepositorioCompetenciaTecnica
     *
     * @return a instance existente ou criada
     */
    public static RepositorioOrganizacaoInMemory getInstance() {
<span class="nc bnc" id="L48" title="All 2 branches missed.">        if(instance == null) {</span>
<span class="nc" id="L49">            instance = new RepositorioOrganizacaoInMemory();</span>
        }
<span class="nc" id="L51">        return instance;</span>
    }

    public void save(String nif, String nome, Website website, String telefone,
                     Email emailOrganizacao, int idEnderecoPostal, Email emailGestor) {
<span class="nc" id="L56">        Organizacao o = findByNif(nif);</span>
<span class="nc bnc" id="L57" title="All 2 branches missed.">        if (o == null) {</span>

<span class="nc" id="L59">            Organizacao org = new Organizacao(nif, nome, website, telefone,</span>
                    emailOrganizacao, emailGestor, idEnderecoPostal);

<span class="nc" id="L62">            this.listaOrganizacoes.add(org);</span>
<span class="nc" id="L63">        } else {</span>
<span class="nc" id="L64">            throw new OrganizacaoDuplicadaException(o.getNif() + &quot;: Organização já registada!&quot;);</span>
        }

<span class="nc" id="L67">    }</span>

    @Override
    public boolean save(String nif, String nome, String website, String telefone,
                        String emailOrganizacao, String emailGestor, String arruamento, String numeroPorta, String localidade, String codPostal,
                        String nomeGestor, String pass, String telefoneGestor, String funcao) throws SQLException {
<span class="nc" id="L73">        return false;</span>
    }

    @Override
    public boolean save(Organizacao organizacao) {
<span class="nc" id="L78">        Organizacao o = findByNif(organizacao.getNif());</span>
<span class="nc bnc" id="L79" title="All 2 branches missed.">        if (o == null) {</span>
<span class="nc" id="L80">            this.listaOrganizacoes.add(organizacao);</span>
        } else {
<span class="nc" id="L82">            throw new OrganizacaoDuplicadaException(o.getNif() + &quot;: Organização já registada!&quot;);</span>
        }
<span class="nc" id="L84">        return false;</span>
    }

    @Override
    public Organizacao findByNif(String nif) {
<span class="nc bnc" id="L89" title="All 2 branches missed.">        for (int i = 0; i &lt; this.listaOrganizacoes.size(); i++) {</span>
<span class="nc" id="L90">            Organizacao organizacao = this.listaOrganizacoes.get(i);</span>
<span class="nc bnc" id="L91" title="All 2 branches missed.">            if (organizacao.getNif().equals(nif)) {</span>
<span class="nc" id="L92">                return organizacao;</span>
            }
        }
<span class="nc" id="L95">        return null;</span>
    }

    @Override
    public ArrayList&lt;Organizacao&gt; getAll() {
<span class="nc" id="L100">        return new ArrayList&lt;&gt;(listaOrganizacoes);</span>
    }




}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>
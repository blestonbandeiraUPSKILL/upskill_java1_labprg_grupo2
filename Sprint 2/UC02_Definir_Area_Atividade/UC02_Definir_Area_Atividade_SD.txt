@startuml
title UC02 - Definir Área de Actividade - Diagrama de Sequência

Actor Administrativo

Administrativo -> DefinirAreaUI: 1. nova área de atividade
activate Administrativo
activate DefinirAreaUI
DefinirAreaUI --> Administrativo: 2. solicita dados(código, descrição breve e detalhada)
deactivate DefinirAreaUI

Administrativo -> DefinirAreaUI: 3. introduz os dados solicitados
activate DefinirAreaUI
DefinirAreaUI -> DefinirAreaController: 4. novaAreaAtividade(cod, dsBreve, dsDet)
activate DefinirAreaController
DefinirAreaController -> Plataforma: 5. rat=getRegistoAreasAtividade()
activate Plataforma
deactivate Plataforma
DefinirAreaController -> "rat:RegistoAreasAtividade": 6. area=novaAreaAtividade(cod, dsBreve, dsDet)
activate "rat:RegistoAreasAtividade"
"rat:RegistoAreasAtividade" --> "area:AreaAtividade": 7. create(cod, dsBreve, dsDet)

deactivate "rat:RegistoAreasAtividade"
DefinirAreaController -> "rat:RegistoAreasAtividade": 8. validaAreaAtividade(area)

activate "rat:RegistoAreasAtividade"
deactivate "rat:RegistoAreasAtividade"
deactivate DefinirAreaController
DefinirAreaUI --> Administrativo: 9. apresenta dados e solicita confirmação
deactivate DefinirAreaUI
Administrativo -> DefinirAreaUI: 10. confirma
activate DefinirAreaUI
activate DefinirAreaController
DefinirAreaUI -> DefinirAreaController: 11. registaAreaAtividade()
DefinirAreaController -> "rat:RegistoAreasAtividade": 12. registaAreaAtividade(area)
activate "rat:RegistoAreasAtividade"
"rat:RegistoAreasAtividade" -> "rat:RegistoAreasAtividade": 13. validaAreaAtividade(area)
"rat:RegistoAreasAtividade" -> "rat:RegistoAreasAtividade": 14. addAreaAtividade(area)
deactivate "rat:RegistoAreasAtividade"
DefinirAreaUI --> Administrativo: 15. operação bem sucedida

@enduml